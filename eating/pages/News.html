<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>奶茶加点糖-新闻页</title>
    <link rel="stylesheet" href="../css/news.css">
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../font/iconfont.css">
    <link rel="stylesheet" href="https://unpkg.com/nprogress@0.2.0/nprogress.css" />
</head>

<body>
    <!--头部 -->
    <div class="header">
        <div class="header-content">
            <div>
                <span class="iconfont iconnaichabeizi"></span>
                <span class="title">奶茶加点糖</span>
            </div>
            <div class="menu">
                <ul>
                    <li><a href="./Home.html">首页</a></li>
                    <li><a href="./News.html">新闻</a></li>
                    <li><a href="./About.html">关于我们</a></li>
                </ul>
            </div>
        </div>

    </div>
    <!-- 内容 -->
    <div class="news">
        <div class="newsList">
            <h2 style="text-align: center;margin: 20px;font-weight: bold;">生活小常识</h2>
            <!-- <div id="boxIn">
                <a class="newsBox" class="thumbnail">
                    <img src="" alt="">
                    <div class="title">
                    </div>
                </a>
                <a class="newsBox">
                    <img src="" alt="">
                    <div class="title">
                    </div>
                </a>
                <a class="newsBox">
                    <img src="" alt="">
                    <div class="title">
                    </div>
                </a>
                <a class="newsBox">
                    <img src="" alt="">
                    <div class="title">
                    </div>
                </a>
                <a class="newsBox">
                    <img src="" alt="">
                    <div class="title">
                    </div>
                </a>
                <a class="newsBox">
                    <img src="" alt="">
                    <div class="title">
                    </div>
                </a>
            </div> -->
            <div class="row mb-3 gutter" id='newsBox'>
                <div class="col-6 col-sm-6 col-md-4 col-lg-4">
                    <div class="card mb">
                        <div class="fixHeight"></div>
                        <!-- <img data-src="" class="card-img-top img-fluid lazyload" data-sizes="auto" alt="..."> -->
                        <div class="card-body">
                            <h5 class="card-title">Card title</h5>
                            <a href="#" class="btn btn-primary btn-sm">查看详情</a>
                        </div>
                    </div>
                </div>
                <div class="col-6 col-sm-6 col-md-4 col-lg-4">
                    <div class="card mb">
                        <div class="fixHeight"></div>
                        <!-- <img data-src="" class="card-img-top img-fluid lazyload" data-sizes="auto" alt="..."> -->
                        <div class="card-body">
                            <h5 class="card-title">Card title</h5>
                            <a href="#" class="btn btn-primary btn-sm">查看详情</a>
                        </div>
                    </div>
                </div>
                <div class="col-6 col-sm-6 col-md-4 col-lg-4">
                    <div class="card mb">
                        <div class="fixHeight"></div>
                        <!-- <img data-src="" class="card-img-top img-fluid lazyload" data-sizes="auto" alt="..."> -->
                        <div class="card-body">
                            <h5 class="card-title">Card title</h5>
                            <a href="#" class="btn btn-primary btn-sm">查看详情</a>
                        </div>
                    </div>
                </div>
                <div class="col-6 col-sm-6 col-md-4 col-lg-4">
                    <div class="card mb">
                        <div class="fixHeight"></div>
                        <!-- <img data-src="" class="card-img-top img-fluid lazyload" data-sizes="auto" alt="..."> -->
                        <div class="card-body">
                            <h5 class="card-title">Card title</h5>
                            <a href="#" class="btn btn-primary btn-sm">查看详情</a>
                        </div>
                    </div>
                </div>
                <div class="col-6 col-sm-6 col-md-4 col-lg-4">
                    <div class="card mb">
                        <div class="fixHeight"></div>
                        <!-- <img data-src="" class="card-img-top img-fluid lazyload" data-sizes="auto" alt="..."> -->
                        <div class="card-body">
                            <h5 class="card-title">Card title</h5>
                            <a href="#" class="btn btn-primary btn-sm">查看详情</a>
                        </div>
                    </div>
                </div>
                <div class="col-6 col-sm-6 col-md-4 col-lg-4">
                    <div class="card mb">
                        <div class="fixHeight"></div>
                        <!-- <img  class="card-img-top img-fluid lazyload" data-sizes="auto" alt="..."> -->
                        <div class="card-body">
                            <h5 class="card-title">Card title</h5>
                            <a href="#" class="btn btn-primary btn-sm">查看详情</a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="page">
                <nav aria-label="Page navigation example">
                    <ul class="pagination justify-content-center" id="pn">
                        <li class="page-item active"><a class="page-link" href="#">1</a></li>
                        <li class="page-item"><a class="page-link" href="#">2</a></li>
                        <li class="page-item"><a class="page-link" href="#">3</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>

    </div>
    <!-- 底部 -->
    <div class="footer">
        <div class="footerContent">
            <div class="connect">
                <h4><span class="iconfont icondianhua"></span>联系我们</h4>
                <ul class="connectDetail">
                    <li class="iconfont icondizhi">&nbsp;福州市闽侯县上街镇中海寰宇</li>
                    <li class="iconfont iconyouxiang">&nbsp;hututu@qq.com</li>
                    <li class="iconfont icondianhua">&nbsp;400-123-4569</li>
                </ul>
            </div>
            <div class="saoma">
                <h4><span class="iconfont iconsaoma"></span>扫码进店</h4>
                <span>
                    <img src="../image/saoma.png" alt="" class="scan" id="scanImg">
                    <p style="width:80px;text-align: center;margin-top: 10px;">奶茶加点甜</p>
                </span>
                <p>版权所有@hututu</p>
            </div>
            <div class="notice">
                <h4><span class="iconfont iconguanzhu1"></span>关注我们</h4>
                <ul class="foot-subscript">
                    <li><a href="#"></a></li>
                    <li><a href="#" id="wx"></a></li>
                    <li><a href="#"></a></li>
                    <li><a href="#"></a></li>
                </ul><br>
            </div>

        </div>
    </div>
</body>
<!-- 进度条 -->
<script src="https://unpkg.com/nprogress@0.2.0/nprogress.js"></script>
<script src="../js/jquery.min.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script src="../js/axios.min.js"></script>
<script>
    $(function () {
        // function getPage(page) {
        //     const loadingBar = $(".loading-bar");
        //     NProgress.start();
        //     axios.get('https://mock-api.com/Gzq27OgW.mock/list?page=' + page)
        //         .then(function (res) {
        //             var resData = res.data;
        //             $.each(resData, function (index, ele) {
        //                 $('.newsBox').eq(index).find('img').prop('src', ele.img)
        //                 $('.newsBox').eq(index).find('.title').html(ele.title)
        //                 $('.newsBox').eq(index).prop('href', `NewsDetail.html?id=${ele.id}`);

        //             })

        //             // 拿到数据之后，设置loading状态false
        //             NProgress.done();

        //         }).catch(function (res) {
        //             console.log('error', res);
        //             $("#loading").css('display', 'block')
        //             NProgress.done();
        //         })
        // }
        // $('#pn li a').click(function () {
        //     $('.boxIn').html('');
        //     const pageNum = parseInt($(this).text())
        //     console.log("sss")
        //     getPage(pageNum);
        //     return false;


        // });
        // getPage(1);
        function pageGet(page) {
            axios.get('https://mock-api.com/Gzq27OgW.mock/list?page=' + page)
                .then(function (res) {
                    var now = res.data;
                    $.each(now, function (index, ele) {
                        $('.card').eq(index).find('.fixHeight').html(`<img src="./images/loading.jpg"  data-original="${ele.img}" data-srcset="${ele.imgs}" class="card-img-top img-fluid lazyload" data-sizes="auto" alt="...">`)
                        $('.card-title').eq(index).html(ele.title)
                        $('.card-body').eq(index).find('a').prop('href', `NewsDetail.html?id=${ele.id}`);
                    })
                }).catch(function (res) {
                    console.log('error', res);
                })
        }
        $('#pn li a').click(function () {
            // $('.row').html('');
            var nowpage = parseInt($(this).text())
            $(this).parent().addClass('active').siblings().removeClass('active')
            console.log('页码', nowpage)
            pageGet(nowpage);
        });
        pageGet(1);


    })


</script>
</html>